<% layout('layout/boilerplate') %>


  <%function truncateContent(content, maxLength) { if (content.length> maxLength) {
    return content.substring(0, maxLength) + '...';
    }
    return content;
    }%>


    <div class="container mt-5">
      <div class="row">
        <div class="col-md-8">
          <h2 class="mb-4">Latest Blog Posts</h2>
          <% posts.forEach(function(post){ %>
            <div class="card mb-4">
              <img src="<%=post.image_url%>" class="card-img-top">
              <div class="card-body">
                <h3 class="card-title">
                  <%=post.title%>
                </h3>
                <hr>
                <p class="card-text">
                  <%=truncateContent(post.content,80)%>
                </p>
                <a href="/blogs/<%=post.blog_id%>" class="btn btn-primary">Read More</a>
              </div>
            </div>
            <%})%>

        </div>

        <!-- Sidebar -->
        <div class="col-md-4">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Categories</h5>
              <ul class="list-group">
                <li class="list-group-item"><a href="/blogs/new">Post Something!!</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>