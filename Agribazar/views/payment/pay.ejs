<% layout('layout/boilerplate') %>
<style>
    .form-control:focus {
        box-shadow: none;
        border-color: #007bff;
    }
    .btn-primary {
        background-color: #007bff;
        border: none;
    }
    .btn-primary:hover {
        background-color: #0056b3;
    }
    .container {
        margin-top: 50px;
    }
    .nav-pills .nav-link.active {
        background-color: #007bff;
    }
    .nav-pills .nav-link {
        border-radius: 0;
        color: #007bff;
    }
    .nav-pills .nav-link:hover {
        background-color: #f8f9fa;
        color: #0056b3;
    }
    .tab-content {
        padding-top: 20px;
    }
    .form-container {
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);
        background-color: #fff;
    }
</style>
<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <h2 class="mt-5 mb-4 text-center">Payment Portal</h2>
            <ul class="nav nav-pills nav-justified mb-3" id="paymentTabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="card-tab" data-toggle="pill" href="#card" role="tab" aria-controls="card" aria-selected="true">Credit/Debit Card</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="upi-tab" data-toggle="pill" href="#upi" role="tab" aria-controls="upi" aria-selected="false">UPI</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="cod-tab" data-toggle="pill" href="#cod" role="tab" aria-controls="cod" aria-selected="false">Pay on Delivery</a>
                </li>
            </ul>
            <div class="tab-content form-container">
                <div class="tab-pane fade show active" id="card" role="tabpanel" aria-labelledby="card-tab">
                    <form action="/process_payment" method="POST" id="cardPaymentForm">
                        <div class="form-group">
                            <label for="card_number">Card Number</label>
                            <input type="text" class="form-control" id="card_number" name="card_number" required aria-describedby="cardNumberHelp">
                            <small id="cardNumberHelp" class="form-text text-muted">We'll never share your card number with anyone else.</small>
                        </div>
                        <div class="form-group">
                            <label for="expiry_date">Expiry Date</label>
                            <input type="text" class="form-control" id="expiry_date" name="expiry_date" placeholder="MM/YY" required>
                        </div>
                        <div class="form-group">
                            <label for="cvv">CVV</label>
                            <input type="text" class="form-control" id="cvv" name="cvv" required>
                        </div>
                        <div class="form-group">
                            <label for="amount_card">Amount: $5000</label>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Pay Now</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="upi" role="tabpanel" aria-labelledby="upi-tab">
                    <form action="/process_payment" method="POST" id="upiPaymentForm">
                        <div class="form-group">
                            <label for="upi_id">UPI ID</label>
                            <input type="text" class="form-control" id="upi_id" name="upi_id" required>
                        </div>
                        <div class="form-group">
                            <label for="amount_upi">Amount: $6000</label>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Pay Now</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="cod" role="tabpanel" aria-labelledby="cod-tab">
                    <form action="/process_payment" method="POST" id="codPaymentForm">
                        <div class="form-group">
                            <label for="delivery_address">Delivery Address</label>
                            <textarea class="form-control" id="delivery_address" name="delivery_address" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="amount_cod">Amount: $7000</label>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Place Order</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
<script>
    $(document).ready(function() {
        $('#card_number').mask('0000 0000 0000 0000');
        $('#expiry_date').mask('00/00');
        $('#cvv').mask('000');

        $('#cardPaymentForm, #upiPaymentForm, #codPaymentForm').on('submit', function(event) {
            event.preventDefault();
            alert('Form submitted successfully!');
            this.submit();
        });
    });
</script>
