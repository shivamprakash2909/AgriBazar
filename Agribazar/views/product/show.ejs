<% layout('layout/boilerplate') %>
<link rel="stylesheet" href="/stylesheets/productshow.css" />
<script src="/javascript/showPage.js"></script>
<div class="container page-content">
  <h1 id="pagetitle">Farm Product</h1>
  <div class="row mb-3">
    <div class="col-md-3">
      <div class="btn-group">
        <button
          class="btn btn-primary dropdown-toggle"
          type="button"
          id="sortDropdown"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Sort
        </button>
        <div class="dropdown-menu" aria-labelledby="sortDropdown">
          <a class="dropdown-item" href="?sort=asc">Ascending</a>
          <a class="dropdown-item" href="?sort=desc">Descending</a>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <form id="searchForm">
        <div class="input-group">
          <input
            type="text"
            class="form-control"
            id="searchInput"
            placeholder="Search Products"
          />
          <div class="input-group-append">
            <button class="btn btn-outline-primary" type="submit">
              Search
            </button>
            <div class="btn-group">
              <button
                class="btn btn-primary dropdown-toggle"
                type="button"
                id="filterDropdown"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                Filter
              </button>
              <div class="dropdown-menu" aria-labelledby="filterDropdown">
                <!-- Quality Filter  -->
                <h6 class="dropdown-header">Quality</h6>
                <a class="dropdown-item" href="?quality=good">High</a>
                <a class="dropdown-item" href="?quality=average">Medium</a>
                <a class="dropdown-item" href="?quality=poor">Low</a>

                <h6 class="dropdown-header">Quantity</h6>
                <div class="filter-group">
                  <label for="minQuantity">Min Quantity (kg)</label>
                  <input
                    type="number"
                    id="minQuantity"
                    name="minQuantity"
                    min="0"
                    value="0"
                    class="form-control"
                  />
                </div>

                <div class="filter-group">
                  <label for="maxQuantity">Max Quantity (kg)</label>
                  <input
                    type="number"
                    id="maxQuantity"
                    name="maxQuantity"
                    min="0"
                    value="1000"
                    class="form-control"
                  />
                </div>

                <!-- Price Filter  -->
                <h6 class="dropdown-header">Price</h6>
                <form id="priceFilterForm" method="GET">
                  <label for="minPrice">Min Price:</label>
                  <input
                    type="range"
                    id="minPrice"
                    name="minPrice"
                    min="0"
                    max="10000"
                    value="0"
                    class="form-control-range"
                  />
                  <label for="maxPrice">Max Price:</label>
                  <input
                    type="range"
                    id="maxPrice"
                    name="maxPrice"
                    min="0"
                    max="10000"
                    value="10000"
                    class="form-control-range"
                  />
                  <div class="d-flex justify-content-between">
                    <span>0</span>
                    <span>10000</span>
                  </div>
                  <button type="submit" class="btn btn-primary mt-2">
                    Apply Filter
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="col-md-3 text-right">
      <% if (User && User.user_type==="farmer" ) { %>
      <a class="btn btn-success" href="/product/new">Add Your Product</a>
      <% } %>
    </div>
    <div id="loading" class="loader-container">
      <div class="bouncing-dots">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
    </div>
    <div class="row products-container"></div>
    <a id="viewMapBtn" class="btn btn float-btn center" href="/product/map"
      >View Map ðŸ§­</a
    >
    <div class="col-md-12">
      <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center"></ul>
      </nav>
    </div>
  </div>
</div>
